package priori;

import java.util.ArrayList;

public class Generator {
	private ArrayList<String[]> transactionData;
	private ArrayList<ArrayList<String>> combinations;
	private ItemSet itemSet;
	private int level;
	
	public Generator(String transactionFile, String itemsFile) {
		TransactionSet transactions = new TransactionSet(transactionFile);
		this.itemSet = new ItemSet(itemsFile);
		this.transactionData = transactions.getItemsArray();
		this.combinations = new ArrayList<ArrayList<String>>();
		this.level = 1;
		
		// Check for the existence of items in transactions
		// transactions that contain items that don't exist will be dropped
		ArrayList<Integer> index = new ArrayList<Integer>();
		for(int i=0; i< transactionData.size(); i++) {
			for(String item : transactionData.get(i)) {
				if(!itemSet.checkExistence(item)) {
					index.add(i);
				}
			}
		}
		// Drop transactions corresponding to the index #s recorded in index array
		for(Integer i : index) {
			transactionData.remove(i);
		}
	}
	
	public RuleSet generate() {
		// all the apriori algorithm code goes here
		return null;
	}
	
	public void main(String[][] argv) {
		Generator generator = new Generator("./Transactions.txt", "./Items.txt");
		RuleSet rules = generator.generate();
	}
}
